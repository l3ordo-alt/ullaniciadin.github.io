<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ãœniversite SÄ±nav Platformu - Asya</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f0f2f5;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #6200ee, #9c4dff);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: transform 0.3s ease;
            padding: 5px 10px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
        }

        .logo:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.2);
        }

        .logo-icon {
            font-size: 32px;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.2));
        }

        .logo-text {
            font-size: 28px;
            font-weight: bold;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #fff, #ffe0b0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-sub {
            font-size: 14px;
            opacity: 0.9;
            font-style: italic;
            margin-left: 5px;
        }

        .header-title {
            flex: 1;
            text-align: center;
        }

        .header-title h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .header-title p {
            font-size: 14px;
            opacity: 0.9;
        }

        .main-content {
            display: flex;
            min-height: 700px;
        }

        /* Sol MenÃ¼ - %30 */
        .menu-panel {
            width: 30%;
            background: #f8f9fa;
            border-right: 2px solid #6200ee;
            padding: 20px;
            overflow-y: auto;
            max-height: 800px;
        }

        /* SaÄŸ Soru AlanÄ± - %70 */
        .soru-panel {
            width: 70%;
            background: #f5f5f5;
            padding: 20px;
            overflow-y: auto;
            max-height: 800px;
        }

        .menu-baslik {
            color: #6200ee;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #6200ee;
        }

        .menu-alt-baslik {
            color: #333;
            font-size: 16px;
            font-weight: 600;
            margin: 20px 0 10px 0;
        }

        /* Accordion MenÃ¼ Stili */
        .accordion-btn {
            background: #6200ee;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            width: 100%;
            text-align: left;
            font-size: 16px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .accordion-btn:hover {
            background: #4500b5;
        }

        .accordion-btn .arrow {
            font-size: 20px;
            transition: transform 0.3s;
        }

        .accordion-btn.active .arrow {
            transform: rotate(180deg);
        }

        .accordion-content {
            display: none;
            padding: 20px;
            background: white;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #6200ee;
        }

        .accordion-content.show {
            display: block;
        }

        .yukleme-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .form-grup {
            width: 100%;
        }

        .form-grup label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .form-grup select, .form-grup input[type="file"], .form-grup input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            background: white;
        }

        .btn {
            background: #6200ee;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            width: 100%;
            margin-top: 5px;
        }

        .btn:hover {
            background: #4500b5;
        }

        .btn-secondary {
            background: #4caf50;
        }

        .btn-secondary:hover {
            background: #388e3c;
        }

        .btn-danger {
            background: #f44336;
        }

        .btn-danger:hover {
            background: #d32f2f;
        }

        .btn-warning {
            background: #ff9800;
        }

        .btn-warning:hover {
            background: #f57c00;
        }

        .btn-home {
            background: #9c27b0;
        }

        .btn-home:hover {
            background: #7b1fa2;
        }

        .btn-info {
            background: #2196f3;
        }

        .btn-info:hover {
            background: #1976d2;
        }

        .btn-small {
            padding: 5px 10px;
            font-size: 12px;
            width: auto;
            margin-left: 5px;
        }

        .json-ornek {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
            margin-top: 15px;
            max-height: 200px;
            overflow-y: auto;
            white-space: pre-wrap;
        }

        .json-ornek pre {
            margin: 0;
        }

        .secim-bilgi {
            background: #e0e0e0;
            padding: 15px;
            border-radius: 8px;
            font-weight: 500;
            color: #6200ee;
            font-size: 16px;
            margin-bottom: 20px;
            text-align: center;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dersler, .sinav-turleri, .yil-listesi {
            margin-bottom: 20px;
        }

        .ders-btn, .tur-btn, .yil-btn {
            padding: 12px;
            margin: 5px 0;
            border: 1px solid #6200ee;
            background: white;
            color: #6200ee;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            width: 100%;
            text-align: left;
            font-size: 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ders-btn:hover, .tur-btn:hover, .yil-btn:hover {
            background: #e0e0e0;
        }

        .ders-btn.active, .tur-btn.active, .yil-btn.active {
            background: #6200ee;
            color: white;
        }

        .yil-icerik {
            display: flex;
            align-items: center;
            width: 100%;
        }

        .yil-ad {
            flex: 1;
        }

        .sil-btn {
            background: none;
            border: none;
            color: #f44336;
            font-size: 18px;
            cursor: pointer;
            padding: 0 5px;
            opacity: 0.7;
            transition: opacity 0.3s;
        }

        .sil-btn:hover {
            opacity: 1;
            color: #d32f2f;
        }

        .yil-btn.active .sil-btn {
            color: white;
        }

        .yeni-yil-input {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .yeni-yil-input input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .yeni-yil-input .btn {
            width: auto;
            padding: 10px 15px;
            margin-top: 0;
        }

        .puan-bar {
            background: white;
            border-top: 2px solid #6200ee;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 18px;
            font-weight: 600;
            flex-wrap: wrap;
            gap: 15px;
        }

        .puan-bilgi {
            display: flex;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .puan {
            color: #6200ee;
            font-size: 24px;
        }

        .dogru-sayi {
            color: #4caf50;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .yanlis-sayi {
            color: #f44336;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .bos-sayi {
            color: #999;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .soru-sayi {
            color: #666;
            font-size: 16px;
            margin-right: 15px;
        }

        .soru-kutu {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .soru-metni {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
            line-height: 1.5;
        }

        .cevap-satiri {
            padding: 15px 20px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.2s;
            background: #fafafa;
            font-size: 16px;
        }

        .cevap-satiri:hover {
            background: #f0f0f0;
        }

        .cevap-satiri.dogru {
            background: #4caf50;
            color: white;
            border-color: #388e3c;
        }

        .cevap-satiri.yanlis {
            background: #f44336;
            color: white;
            border-color: #d32f2f;
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 14px;
            border-top: 1px solid #ddd;
        }

        .veri-yonetimi {
            margin-top: 20px;
            border-top: 1px dashed #6200ee;
            padding-top: 20px;
        }

        .istatistik-icon {
            font-size: 20px;
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <!-- Logo - Asya iÃ§in Ã¶zel tasarÄ±m -->
            <div class="logo" id="logo">
                <span class="logo-icon">ğŸ‘§</span>
                <span class="logo-text">ASYA</span>
                <span class="logo-sub">â­</span>
            </div>
            
            <div class="header-title">
                <h1>ğŸ“ Ãœniversite SÄ±nav Platformu</h1>
                <p>4 YanlÄ±ÅŸ 1 DoÄŸruyu GÃ¶tÃ¼rÃ¼r | Her Soru 5 Puan</p>
            </div>
        </div>

        <!-- Ana Ä°Ã§erik - 2 Kolonlu -->
        <div class="main-content">
            <!-- SOL MENÃœ - %30 -->
            <div class="menu-panel">
                <div class="menu-baslik">ğŸ“‹ MENÃœ</div>
                
                <!-- SeÃ§im Bilgi -->
                <div class="secim-bilgi" id="secimBilgi">
                    ğŸ‘† LÃ¼tfen bir ders seÃ§in
                </div>
                
                <!-- Dersler -->
                <div class="menu-alt-baslik">ğŸ“š Dersler</div>
                <div class="dersler" id="dersler">
                    <button class="ders-btn" data-ders="0">ğŸ“Š GÃ¶rsel Programlama</button>
                    <button class="ders-btn" data-ders="1">ğŸ“ˆ Karar Teorisi ve Analizi</button>
                    <button class="ders-btn" data-ders="2">ğŸ¤– Makine Ã–ÄŸrenmesi</button>
                    <button class="ders-btn" data-ders="3">ğŸ“± Mobil Programlama</button>
                </div>
                
                <!-- SÄ±nav TÃ¼rleri (baÅŸlangÄ±Ã§ta gizli) -->
                <div id="turBolumu" style="display: none;">
                    <div class="menu-alt-baslik">ğŸ“ SÄ±nav TÃ¼rÃ¼</div>
                    <div class="sinav-turleri" id="sinavTurleri">
                        <button class="tur-btn" data-tur="vize">ğŸ“ Vize</button>
                        <button class="tur-btn" data-tur="final">ğŸ“š Final</button>
                        <button class="tur-btn" data-tur="but">ğŸ”„ BÃ¼tÃ¼nleme</button>
                    </div>
                </div>
                
                <!-- YÄ±llar (baÅŸlangÄ±Ã§ta gizli) -->
                <div id="yilBolumu" style="display: none;">
                    <div class="menu-alt-baslik">ğŸ“… YÄ±l</div>
                    <div class="yil-listesi" id="yilListesi">
                        <!-- YÄ±llar dinamik olarak eklenecek -->
                    </div>
                </div>
                
                <!-- JSON YÃ¼kleme ve Veri YÃ¶netimi - Accordion MenÃ¼ -->
                <button class="accordion-btn" id="jsonAccordionBtn">
                    <span>ğŸ“¤ JSON YÃ¼kleme ve Veri YÃ¶netimi</span>
                    <span class="arrow">â–¼</span>
                </button>
                
                <div class="accordion-content" id="jsonAccordionContent">
                    <!-- JSON YÃ¼kleme Formu -->
                    <div class="yukleme-form">
                        <div class="form-grup">
                            <label>Ders:</label>
                            <select id="dersSecim">
                                <option value="0">ğŸ“Š GÃ¶rsel Programlama</option>
                                <option value="1">ğŸ“ˆ Karar Teorisi ve Analizi</option>
                                <option value="2">ğŸ¤– Makine Ã–ÄŸrenmesi</option>
                                <option value="3">ğŸ“± Mobil Programlama</option>
                            </select>
                        </div>
                        
                        <div class="form-grup">
                            <label>SÄ±nav TÃ¼rÃ¼:</label>
                            <select id="turSecim">
                                <option value="vize">ğŸ“ Vize</option>
                                <option value="final">ğŸ“š Final</option>
                                <option value="but">ğŸ”„ BÃ¼tÃ¼nleme</option>
                            </select>
                        </div>
                        
                        <div class="form-grup">
                            <label>YÄ±l:</label>
                            <input type="number" id="yilInput" value="2023" min="2000" max="2030">
                        </div>
                        
                        <div class="form-grup">
                            <label>JSON DosyasÄ±:</label>
                            <input type="file" id="jsonDosya" accept=".json">
                        </div>
                        
                        <button class="btn" id="jsonYukleBtn">ğŸ“¤ JSON YÃ¼kle ve Kaydet</button>
                        <button class="btn btn-secondary" id="ornekGosterBtn">ğŸ“‹ Ã–rnek JSON</button>
                        
                        <!-- Ã–rnek JSON GÃ¶sterimi -->
                        <div id="ornekJson" class="json-ornek" style="display: none;">
                            <pre>
[
  {
    "soru": "Soru metni buraya yazÄ±lÄ±r?",
    "cevaplar": [
      "A) ÅÄ±k 1",
      "B) ÅÄ±k 2", 
      "C) DoÄŸru ÅÄ±k",
      "D) ÅÄ±k 4",
      "E) ÅÄ±k 5"
    ],
    "dogru": "C) DoÄŸru ÅÄ±k"
  }
]
                            </pre>
                        </div>
                    </div>
                    
                    <!-- Veri YÃ¶netimi ButonlarÄ± -->
                    <div class="veri-yonetimi">
                        <div class="menu-alt-baslik" style="margin-top: 0;">ğŸ”§ Veri YÃ¶netimi</div>
                        <button class="btn btn-warning" id="verileriKaydet">ğŸ’¾ Verileri Åimdi Kaydet</button>
                        <button class="btn btn-secondary" id="verileriYukle">ğŸ“‚ KayÄ±tlÄ± Verileri YÃ¼kle</button>
                        <button class="btn btn-danger" id="verileriTemizle">ğŸ—‘ï¸ TÃ¼m Verileri Sil</button>
                        <button class="btn btn-danger" id="sorulariTemizle">ğŸ—‘ï¸ Bu SÄ±navdaki SorularÄ± Temizle</button>
                    </div>
                </div>
                
                <!-- Ana Sayfa Butonu (her zaman gÃ¶rÃ¼nÃ¼r) -->
                <div style="margin-top: 15px;">
                    <button class="btn btn-home" id="anasayfaBtn">ğŸ  Ana Sayfaya DÃ¶n</button>
                </div>
                
                <div style="margin-top: 15px; font-size: 12px; color: #666; text-align: center;">
                    âœ… Ã–nce bir ders seÃ§in, sonra sÄ±nav tÃ¼rÃ¼ ve yÄ±l seÃ§enekleri aÃ§Ä±lÄ±r
                </div>
            </div>
            
            <!-- SAÄ SORU ALANI - %70 -->
            <div class="soru-panel">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <div class="menu-baslik" style="margin-bottom: 0;">ğŸ“ SORULAR</div>
                    <div>
                        <span class="soru-sayi" id="soruSayisi">0 soru</span>
                        <button class="btn" id="sinaviSifirla" style="width: auto; padding: 8px 15px;">ğŸ”„ CevaplarÄ± SÄ±fÄ±rla</button>
                    </div>
                </div>
                
                <!-- Sorular burada gÃ¶sterilecek -->
                <div id="sinavAlani">
                    <div style="text-align: center; padding: 100px 20px; color: #999; background: #f8f9fa; border-radius: 8px; font-size: 18px;">
                        ğŸ‘ˆ Sol menÃ¼den bir ders seÃ§in<br><br>
                        Sonra sÄ±nav tÃ¼rÃ¼ ve yÄ±l seÃ§erek sorularÄ± gÃ¶rmeye baÅŸlayÄ±n
                    </div>
                </div>
            </div>
        </div>

        <!-- Puan Bar -->
        <div class="puan-bar">
            <div class="puan-bilgi">
                <div class="puan">
                    <span class="istatistik-icon">ğŸ“Š</span> Net: <span id="puanDegeri">0.00</span>
                </div>
                <div class="dogru-sayi">
                    <span class="istatistik-icon">âœ…</span> DoÄŸru: <span id="dogruSayisi">0</span>
                </div>
                <div class="yanlis-sayi">
                    <span class="istatistik-icon">âŒ</span> YanlÄ±ÅŸ: <span id="yanlisSayisi">0</span>
                </div>
                <div class="bos-sayi">
                    <span class="istatistik-icon">â­•</span> BoÅŸ: <span id="bosSayisi">0</span>
                </div>
            </div>
            <div>
                <span>Her soru 5 puan | 4 yanlÄ±ÅŸ 1 doÄŸruyu gÃ¶tÃ¼rÃ¼r</span>
            </div>
        </div>

        <div class="footer">
            âš¡ JSON yÃ¼kleyerek soru ekleyin | Her sÄ±nav iÃ§in istediÄŸiniz kadar soru | Asya'ya Ã¶zel ğŸ€
        </div>
    </div>

    <script>
        // Ders isimleri
        const dersIsimleri = [
            "GÃ¶rsel Programlama",
            "Karar Teorisi ve Analizi",
            "Makine Ã–ÄŸrenmesi",
            "Mobil Programlama"
        ];

        // SÄ±nav tÃ¼rÃ¼ isimleri
        const turIsimleri = {
            vize: "Vize",
            final: "Final",
            but: "BÃ¼tÃ¼nleme"
        };

        // Local Storage anahtarÄ±
        const STORAGE_KEY = 'sinavPlatformuVerileri';

        // BaÅŸlangÄ±Ã§ verileri (Ã¶rnek)
        const baslangicVerileri = {
            0: { vize: {}, final: {}, but: {} },
            1: { vize: {}, final: {}, but: {} },
            2: { vize: {}, final: {}, but: {} },
            3: { 
                vize: {
                    "2023": [
                        {
                            soru: "void gorunum {{bool kalin = false, bool gizli = false}} {...} yukarÄ±daki ÅŸekilde tanÄ±mlanmÄ±ÅŸ gorunum fonksiyonu gorunum(kalin: true); ÅŸeklinde Ã§aÄŸrÄ±lÄ±rsa aÅŸaÄŸÄ±dakilerden hangisi doÄŸrudur?",
                            cevaplar: [
                                "A) gizli parametresi null deÄŸeri alÄ±r.",
                                "B) gizli parametresi true deÄŸeri alÄ±r.",
                                "C) gizli parametresi verilmediÄŸi iÃ§in kod derlenemez, sentaks hatasÄ± verir.",
                                "D) gizli parametresi false deÄŸeri alÄ±r.",
                                "E) gizli parametresinin deÄŸeri daha sonradan gorunum.gizli = true; ÅŸeklinde atanÄ±r."
                            ],
                            dogru: "D) gizli parametresi false deÄŸeri alÄ±r."
                        }
                    ], 
                    final: {}, 
                    but: {} 
                }
            }
        };

        // SORU HAVUZU - Local Storage'dan yÃ¼kle veya baÅŸlangÄ±Ã§ verilerini kullan
        let soruDatabase;

        // Local Storage'dan verileri yÃ¼kle
        function verileriLocalStoragedanYukle() {
            const kayitliVeriler = localStorage.getItem(STORAGE_KEY);
            if (kayitliVeriler) {
                try {
                    soruDatabase = JSON.parse(kayitliVeriler);
                    console.log('Veriler localStorage\'dan yÃ¼klendi');
                } catch (e) {
                    console.error('Veriler yÃ¼klenirken hata:', e);
                    soruDatabase = JSON.parse(JSON.stringify(baslangicVerileri));
                }
            } else {
                soruDatabase = JSON.parse(JSON.stringify(baslangicVerileri));
                verileriLocalStorageaKaydet();
            }
        }

        // Verileri Local Storage'a kaydet
        function verileriLocalStorageaKaydet() {
            try {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(soruDatabase));
                console.log('Veriler localStorage\'a kaydedildi');
            } catch (e) {
                console.error('Veriler kaydedilirken hata:', e);
            }
        }

        // BaÅŸlangÄ±Ã§ta verileri yÃ¼kle
        verileriLocalStoragedanYukle();

        // Aktif seÃ§imler (baÅŸlangÄ±Ã§ta boÅŸ)
        let aktifDers = null;
        let aktifTur = null;
        let aktifYil = null;
        let kullaniciCevaplari = {};

        // DOM elementleri
        const sinavAlani = document.getElementById('sinavAlani');
        const puanDegeri = document.getElementById('puanDegeri');
        const dogruSayisi = document.getElementById('dogruSayisi');
        const yanlisSayisi = document.getElementById('yanlisSayisi');
        const bosSayisi = document.getElementById('bosSayisi');
        const soruSayisi = document.getElementById('soruSayisi');
        const secimBilgi = document.getElementById('secimBilgi');
        const turBolumu = document.getElementById('turBolumu');
        const yilBolumu = document.getElementById('yilBolumu');
        
        // ButonlarÄ± seÃ§
        const dersBtns = document.querySelectorAll('.ders-btn');
        const turBtns = document.querySelectorAll('.tur-btn');

        // Accordion MenÃ¼ Ä°ÅŸlemleri
        const accordionBtn = document.getElementById('jsonAccordionBtn');
        const accordionContent = document.getElementById('jsonAccordionContent');

        accordionBtn.addEventListener('click', function() {
            this.classList.toggle('active');
            accordionContent.classList.toggle('show');
            
            // Ok iÅŸaretini dÃ¶ndÃ¼r
            const arrow = this.querySelector('.arrow');
            if (accordionContent.classList.contains('show')) {
                arrow.style.transform = 'rotate(180deg)';
            } else {
                arrow.style.transform = 'rotate(0deg)';
            }
        });

        // Ana Sayfaya DÃ¶n Fonksiyonu
        function anaSayfayaDon() {
            // TÃ¼m seÃ§imleri sÄ±fÄ±rla
            aktifDers = null;
            aktifTur = null;
            aktifYil = null;
            kullaniciCevaplari = {};
            
            // TÃ¼m active class'larÄ± kaldÄ±r
            dersBtns.forEach(b => b.classList.remove('active'));
            turBtns.forEach(b => b.classList.remove('active'));
            
            // MenÃ¼leri gizle
            turBolumu.style.display = 'none';
            yilBolumu.style.display = 'none';
            
            // JSON accordion'u kapat
            accordionContent.classList.remove('show');
            accordionBtn.classList.remove('active');
            const arrow = accordionBtn.querySelector('.arrow');
            arrow.style.transform = 'rotate(0deg)';
            
            // SeÃ§im bilgisini gÃ¼ncelle
            secimBilgi.innerHTML = 'ğŸ‘† LÃ¼tfen bir ders seÃ§in';
            
            // Soru alanÄ±nÄ± temizle
            sinavAlani.innerHTML = '<div style="text-align: center; padding: 100px 20px; color: #999; background: #f8f9fa; border-radius: 8px; font-size: 18px;">ğŸ‘ˆ Sol menÃ¼den bir ders seÃ§in<br><br>Sonra sÄ±nav tÃ¼rÃ¼ ve yÄ±l seÃ§erek sorularÄ± gÃ¶rmeye baÅŸlayÄ±n</div>';
            
            // Puan ve istatistikleri sÄ±fÄ±rla
            puanDegeri.textContent = '0.00';
            dogruSayisi.textContent = '0';
            yanlisSayisi.textContent = '0';
            bosSayisi.textContent = '0';
            soruSayisi.textContent = '0 soru';
        }

        // Logo'ya tÄ±klama olayÄ±
        document.getElementById('logo').addEventListener('click', function() {
            anaSayfayaDon();
        });

        // Ana Sayfa butonuna tÄ±klama olayÄ±
        document.getElementById('anasayfaBtn').addEventListener('click', function() {
            anaSayfayaDon();
        });

        // SeÃ§im bilgisini gÃ¼ncelle
        function secimBilgiGuncelle() {
            if (aktifDers === null) {
                secimBilgi.innerHTML = 'ğŸ‘† LÃ¼tfen bir ders seÃ§in';
            } else if (aktifTur === null) {
                secimBilgi.innerHTML = `ğŸ“Œ ${dersIsimleri[aktifDers]} > SÄ±nav tÃ¼rÃ¼ seÃ§in`;
            } else if (aktifYil === null) {
                secimBilgi.innerHTML = `ğŸ“Œ ${dersIsimleri[aktifDers]} > ${turIsimleri[aktifTur]} > YÄ±l seÃ§in`;
            } else {
                secimBilgi.innerHTML = `ğŸ“Œ ${dersIsimleri[aktifDers]} > ${turIsimleri[aktifTur]} > ${aktifYil}`;
            }
        }

        // YÄ±l butonlarÄ±nÄ± gÃ¼ncelle - SADECE SEÃ‡Ä°LÄ° SINAV TÃœRÃœNE AÄ°T YILLAR
        function yilButonlariniGuncelle() {
            const yilListesi = document.getElementById('yilListesi');
            
            // Mevcut yÄ±llarÄ± topla - SADECE seÃ§ili ders ve seÃ§ili sÄ±nav tÃ¼rÃ¼ iÃ§in
            const mevcutYillar = new Set();
            
            // VarsayÄ±lan yÄ±llar (her sÄ±nav tÃ¼rÃ¼ iÃ§in ayrÄ± ayrÄ±)
            mevcutYillar.add('2023');
            mevcutYillar.add('2024');
            mevcutYillar.add('2025');
            
            // VeritabanÄ±ndaki yÄ±llarÄ± ekle (SADECE seÃ§ili ders ve seÃ§ili sÄ±nav tÃ¼rÃ¼ iÃ§in)
            if (aktifDers !== null && aktifTur !== null && 
                soruDatabase[aktifDers] && soruDatabase[aktifDers][aktifTur]) {
                Object.keys(soruDatabase[aktifDers][aktifTur]).forEach(yil => {
                    mevcutYillar.add(yil);
                });
            }
            
            // YÄ±llarÄ± sÄ±rala (bÃ¼yÃ¼kten kÃ¼Ã§Ã¼ÄŸe)
            const yillar = Array.from(mevcutYillar).sort().reverse();
            
            let html = '';
            yillar.forEach(yil => {
                const aktifClass = (yil === aktifYil) ? 'active' : '';
                html += `
                    <button class="yil-btn ${aktifClass}" data-yil="${yil}">
                        <div class="yil-icerik">
                            <span class="yil-ad">${yil}</span>
                            <span class="sil-btn" onclick="event.stopPropagation(); yilSil('${yil}')">ğŸ—‘ï¸</span>
                        </div>
                    </button>
                `;
            });
            
            html += `
                <div class="yeni-yil-input">
                    <input type="number" id="yeniYilInput" placeholder="Yeni yÄ±l" min="2000" max="2030">
                    <button class="btn" id="yilEkleBtn">â• Ekle</button>
                </div>
            `;
            
            yilListesi.innerHTML = html;
            
            // YÄ±l butonlarÄ±na olay dinleyici ekle
            document.querySelectorAll('.yil-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    // Sil butonuna tÄ±klandÄ±ysa iÅŸlem yapma
                    if (e.target.classList.contains('sil-btn')) return;
                    
                    document.querySelectorAll('.yil-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    aktifYil = this.getAttribute('data-yil');
                    kullaniciCevaplari = {};
                    secimBilgiGuncelle();
                    sorulariGoster();
                });
            });
            
            // YÄ±l ekle butonuna olay dinleyici ekle
            document.getElementById('yilEkleBtn').addEventListener('click', function() {
                const yeniYil = document.getElementById('yeniYilInput').value;
                if (yeniYil && yeniYil.length === 4) {
                    aktifYil = yeniYil;
                    yilButonlariniGuncelle();
                    kullaniciCevaplari = {};
                    secimBilgiGuncelle();
                    sorulariGoster();
                }
            });
        }

        // YÄ±l silme fonksiyonu
        window.yilSil = function(yil) {
            if (aktifDers === null || aktifTur === null) {
                alert('Ã–nce bir ders ve sÄ±nav tÃ¼rÃ¼ seÃ§melisiniz!');
                return;
            }
            
            if (confirm(`${yil} yÄ±lÄ±nÄ± silmek istediÄŸinize emin misiniz?`)) {
                // VeritabanÄ±ndan yÄ±lÄ± sil
                if (soruDatabase[aktifDers] && 
                    soruDatabase[aktifDers][aktifTur] && 
                    soruDatabase[aktifDers][aktifTur][yil]) {
                    
                    delete soruDatabase[aktifDers][aktifTur][yil];
                    verileriLocalStorageaKaydet();
                    
                    // EÄŸer silinen yÄ±l aktifse, aktifYil'i null yap
                    if (aktifYil === yil) {
                        aktifYil = null;
                    }
                    
                    // YÄ±l butonlarÄ±nÄ± gÃ¼ncelle
                    yilButonlariniGuncelle();
                    sorulariGoster();
                    
                    alert(`${yil} yÄ±lÄ± baÅŸarÄ±yla silindi!`);
                } else {
                    alert('Bu yÄ±l zaten boÅŸ!');
                }
            }
        };

        // Ders butonlarÄ± iÃ§in olay dinleyici
        dersBtns.forEach(btn => {
            btn.addEventListener('click', function(e) {
                // TÃ¼m ders butonlarÄ±nÄ±n active class'Ä±nÄ± kaldÄ±r
                dersBtns.forEach(b => b.classList.remove('active'));
                // Bu butona active ekle
                this.classList.add('active');
                
                // SeÃ§imi gÃ¼ncelle
                aktifDers = parseInt(this.getAttribute('data-ders'));
                aktifTur = null;
                aktifYil = null;
                kullaniciCevaplari = {};
                
                // SÄ±nav tÃ¼rÃ¼ bÃ¶lÃ¼mÃ¼nÃ¼ gÃ¶ster
                turBolumu.style.display = 'block';
                yilBolumu.style.display = 'none';
                
                // TÃ¼m tur butonlarÄ±nÄ±n active class'Ä±nÄ± kaldÄ±r
                turBtns.forEach(b => b.classList.remove('active'));
                
                secimBilgiGuncelle();
                sorulariGoster();
            });
        });

        // SÄ±nav tÃ¼rÃ¼ butonlarÄ± iÃ§in olay dinleyici
        turBtns.forEach(btn => {
            btn.addEventListener('click', function(e) {
                if (aktifDers === null) {
                    alert('Ã–nce bir ders seÃ§melisiniz!');
                    return;
                }
                
                turBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                aktifTur = this.getAttribute('data-tur');
                aktifYil = null;
                kullaniciCevaplari = {};
                
                // YÄ±l bÃ¶lÃ¼mÃ¼nÃ¼ gÃ¶ster
                yilBolumu.style.display = 'block';
                
                secimBilgiGuncelle();
                yilButonlariniGuncelle();
                sorulariGoster();
            });
        });

        // SÄ±navÄ± sÄ±fÄ±rla butonu
        document.getElementById('sinaviSifirla').addEventListener('click', function() {
            if (aktifDers === null || aktifTur === null || aktifYil === null) {
                alert('Ã–nce bir ders, sÄ±nav tÃ¼rÃ¼ ve yÄ±l seÃ§melisiniz!');
                return;
            }
            kullaniciCevaplari = {};
            sorulariGoster();
        });

        // SorularÄ± temizle butonu
        document.getElementById('sorulariTemizle').addEventListener('click', function() {
            if (aktifDers === null || aktifTur === null || aktifYil === null) {
                alert('Ã–nce bir ders, sÄ±nav tÃ¼rÃ¼ ve yÄ±l seÃ§melisiniz!');
                return;
            }
            
            if (confirm('Bu sÄ±navdaki tÃ¼m sorularÄ± silmek istediÄŸinize emin misiniz?')) {
                if (!soruDatabase[aktifDers]) {
                    soruDatabase[aktifDers] = {vize: {}, final: {}, but: {}};
                }
                if (!soruDatabase[aktifDers][aktifTur]) {
                    soruDatabase[aktifDers][aktifTur] = {};
                }
                
                soruDatabase[aktifDers][aktifTur][aktifYil] = [];
                kullaniciCevaplari = {};
                yilButonlariniGuncelle();
                sorulariGoster();
                verileriLocalStorageaKaydet();
            }
        });

        // TÃ¼m verileri temizle butonu
        document.getElementById('verileriTemizle').addEventListener('click', function() {
            if (confirm('TÃœM derslerdeki TÃœM sorularÄ± silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz!')) {
                soruDatabase = JSON.parse(JSON.stringify(baslangicVerileri));
                kullaniciCevaplari = {};
                verileriLocalStorageaKaydet();
                
                // SeÃ§imleri sÄ±fÄ±rla
                anaSayfayaDon();
                
                alert('TÃ¼m veriler sÄ±fÄ±rlandÄ±!');
            }
        });

        // Verileri kaydet butonu
        document.getElementById('verileriKaydet').addEventListener('click', function() {
            verileriLocalStorageaKaydet();
            alert('Veriler baÅŸarÄ±yla kaydedildi!');
        });

        // Verileri yÃ¼kle butonu
        document.getElementById('verileriYukle').addEventListener('click', function() {
            verileriLocalStoragedanYukle();
            
            // SeÃ§imleri sÄ±fÄ±rla (Ã§Ã¼nkÃ¼ yeni veriler yÃ¼klendi)
            anaSayfayaDon();
            
            alert('KayÄ±tlÄ± veriler yÃ¼klendi!');
        });

        // Ã–rnek JSON gÃ¶ster/gizle
        document.getElementById('ornekGosterBtn').addEventListener('click', function() {
            const ornekJson = document.getElementById('ornekJson');
            if (ornekJson.style.display === 'none') {
                ornekJson.style.display = 'block';
                this.textContent = 'ğŸ“‹ Ã–rnek JSON Gizle';
            } else {
                ornekJson.style.display = 'none';
                this.textContent = 'ğŸ“‹ Ã–rnek JSON GÃ¶ster';
            }
        });

        // JSON yÃ¼kle butonu
        document.getElementById('jsonYukleBtn').addEventListener('click', function() {
            const dosya = document.getElementById('jsonDosya').files[0];
            if (!dosya) {
                alert('LÃ¼tfen bir JSON dosyasÄ± seÃ§in!');
                return;
            }
            
            const ders = document.getElementById('dersSecim').value;
            const tur = document.getElementById('turSecim').value;
            const yil = document.getElementById('yilInput').value;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const sorular = JSON.parse(e.target.result);
                    
                    // Kontrol: dizi mi?
                    if (!Array.isArray(sorular)) {
                        alert('JSON dosyasÄ± bir dizi iÃ§ermelidir!');
                        return;
                    }
                    
                    // Her sorunun gerekli alanlarÄ± var mÄ±?
                    for (let i = 0; i < sorular.length; i++) {
                        if (!sorular[i].soru || !sorular[i].cevaplar || !sorular[i].dogru) {
                            alert(`${i+1}. soruda eksik alan var! Her soru 'soru', 'cevaplar' ve 'dogru' alanlarÄ±nÄ± iÃ§ermeli.`);
                            return;
                        }
                        
                        if (!Array.isArray(sorular[i].cevaplar) || sorular[i].cevaplar.length !== 5) {
                            alert(`${i+1}. soruda 'cevaplar' 5 ÅŸÄ±ktan oluÅŸan bir dizi olmalÄ±!`);
                            return;
                        }
                    }
                    
                    // VeritabanÄ±nÄ± kontrol et ve oluÅŸtur
                    if (!soruDatabase[ders]) {
                        soruDatabase[ders] = {vize: {}, final: {}, but: {}};
                    }
                    
                    if (!soruDatabase[ders][tur]) {
                        soruDatabase[ders][tur] = {};
                    }
                    
                    // SorularÄ± yÃ¼kle
                    soruDatabase[ders][tur][yil] = sorular;
                    
                    // Local Storage'a kaydet
                    verileriLocalStorageaKaydet();
                    
                    alert(`${sorular.length} soru baÅŸarÄ±yla yÃ¼klendi ve kalÄ±cÄ± olarak kaydedildi!`);
                    
                } catch (error) {
                    alert('JSON dosyasÄ± geÃ§ersiz! Hata: ' + error.message);
                    console.error('Hata:', error);
                }
            };
            
            reader.readAsText(dosya);
        });

        // SorularÄ± gÃ¶ster
        function sorulariGoster() {
            // EÄŸer ders, tur veya yÄ±l seÃ§ili deÄŸilse boÅŸ gÃ¶ster
            if (aktifDers === null || aktifTur === null || aktifYil === null) {
                sinavAlani.innerHTML = '<div style="text-align: center; padding: 100px 20px; color: #999; background: #f8f9fa; border-radius: 8px; font-size: 18px;">ğŸ‘ˆ Sol menÃ¼den seÃ§im yapÄ±n<br><br>Ã–nce ders, sonra sÄ±nav tÃ¼rÃ¼, sonra yÄ±l seÃ§in</div>';
                puanDegeri.textContent = '0.00';
                dogruSayisi.textContent = '0';
                yanlisSayisi.textContent = '0';
                bosSayisi.textContent = '0';
                soruSayisi.textContent = '0 soru';
                return;
            }
            
            // SeÃ§ili ders, tur ve yÄ±la ait sorularÄ± al
            let sorular = [];
            
            try {
                if (soruDatabase[aktifDers] && 
                    soruDatabase[aktifDers][aktifTur] && 
                    soruDatabase[aktifDers][aktifTur][aktifYil]) {
                    sorular = soruDatabase[aktifDers][aktifTur][aktifYil];
                }
            } catch (e) {
                console.error('Hata:', e);
                sorular = [];
            }
            
            // Soru sayÄ±sÄ±nÄ± gÃ¼ncelle
            soruSayisi.textContent = `${sorular.length} soru`;
            
            // EÄŸer soru yoksa bilgi mesajÄ± gÃ¶ster
            if (!sorular || sorular.length === 0) {
                sinavAlani.innerHTML = '<div style="text-align: center; padding: 100px 20px; color: #999; background: #f8f9fa; border-radius: 8px; font-size: 18px;">ğŸ“­ Bu sÄ±nav iÃ§in henÃ¼z soru eklenmemiÅŸ.<br><br>Sol menÃ¼den JSON dosyasÄ± yÃ¼kleyerek soru ekleyebilirsiniz.</div>';
                puanDegeri.textContent = '0.00';
                dogruSayisi.textContent = '0';
                yanlisSayisi.textContent = '0';
                bosSayisi.textContent = sorular.length;
                return;
            }

            let html = '';

            sorular.forEach((s, index) => {
                const secilen = kullaniciCevaplari[index];
                html += `<div class="soru-kutu" data-soru-index="${index}">`;
                html += `<div class="soru-metni">${index+1}. ${s.soru}</div>`;
                
                s.cevaplar.forEach(cevap => {
                    let cevapClass = 'cevap-satiri';
                    
                    if (secilen !== undefined) {
                        if (cevap === s.dogru) {
                            cevapClass += ' dogru';
                        }
                        if (secilen === cevap && secilen !== s.dogru) {
                            cevapClass += ' yanlis';
                        }
                    }
                    
                    html += `<div class="${cevapClass}" data-soru="${index}" data-cevap="${cevap}">${cevap}</div>`;
                });
                
                html += '</div>';
            });

            sinavAlani.innerHTML = html;

            // Cevap satÄ±rlarÄ±na tÄ±klama olayÄ± ekle
            document.querySelectorAll('.cevap-satiri').forEach(el => {
                el.addEventListener('click', function(e) {
                    if (aktifDers === null || aktifTur === null || aktifYil === null) return;
                    
                    const soruIndex = this.getAttribute('data-soru');
                    const cevap = this.getAttribute('data-cevap');
                    cevapSec(soruIndex, cevap);
                });
            });

            puanGuncelle(sorular);
        }

        // Cevap seÃ§
        function cevapSec(soruIndex, cevap) {
            kullaniciCevaplari[soruIndex] = cevap;
            sorulariGoster();
        }

        // Puan hesapla (4 yanlÄ±ÅŸ 1 doÄŸruyu gÃ¶tÃ¼rÃ¼r)
        function puanHesapla(sorular) {
            let dogru = 0;
            let yanlis = 0;
            let bos = 0;

            sorular.forEach((soru, index) => {
                const cevap = kullaniciCevaplari[index];
                if (cevap) {
                    if (cevap === soru.dogru) {
                        dogru++;
                    } else {
                        yanlis++;
                    }
                } else {
                    bos++;
                }
            });

            // 4 yanlÄ±ÅŸ 1 doÄŸruyu gÃ¶tÃ¼rÃ¼r
            const net = dogru - (yanlis / 4);
            // Her soru 5 puan
            const puan = net * 5;
            
            return {
                puan: puan > 0 ? puan : 0,
                dogru: dogru,
                yanlis: yanlis,
                bos: bos
            };
        }

        // PuanÄ± gÃ¼ncelle ve gÃ¶ster
        function puanGuncelle(sorular) {
            const sonuc = puanHesapla(sorular);
            puanDegeri.textContent = sonuc.puan.toFixed(2);
            dogruSayisi.textContent = sonuc.dogru;
            yanlisSayisi.textContent = sonuc.yanlis;
            bosSayisi.textContent = sonuc.bos;
        }

        // Ä°lk yÃ¼klemede - hiÃ§bir ÅŸey seÃ§ili deÄŸil
        secimBilgiGuncelle();
        // SÄ±nav tÃ¼rÃ¼ ve yÄ±l bÃ¶lÃ¼mleri gizli
        turBolumu.style.display = 'none';
        yilBolumu.style.display = 'none';
    </script>
</body>
</html>